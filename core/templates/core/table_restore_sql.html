<!-- core/templates/core/table_restore_sql.html -->
{% extends 'core/base.html' %}

{% block content %}
<a href="{% url 'table_management' %}" class="back-button">‚Üê –ù–∞–∑–∞–¥</a>

<h1 class="menu-title">üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ SQL</h1>

<div class="restore-container">
    <form method="post" enctype="multipart/form-data" class="entity-form">
        {% csrf_token %}

        <div class="info-box">
            <h3>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
            <ul>
                <li>–§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å SQL –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã</li>
                <li>–ë—É–¥–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–∞–Ω–Ω—ã–µ</li>
                <li>–í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å</li>
                <li>–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–∞</li>
            </ul>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:</h3>
            <ul>
                <li>–ï—Å–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π</li>
                <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º</li>
            </ul>
        </div>

        <div class="form-group">
            <label for="sql_file">–í—ã–±–µ—Ä–∏—Ç–µ SQL —Ñ–∞–π–ª:</label>
            <input type="file" name="sql_file" accept=".sql" required>
        </div>

        <div class="form-group">
            <label>
                <input type="checkbox" name="force_restore" value="1">
                –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (—É–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É)
            </label>
        </div>

        <button type="submit" class="btn-submit">üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ SQL</button>
    </form>
</div>

{% if messages %}
    {% for message in messages %}
        <div class="message-box {{ message.tags }}">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<style>
    .restore-container {
        max-width: 600px;
        margin: 30px auto;
    }

    .info-box, .warning-box {
        background-color: #001100;
        border: 1px solid #00ff00;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 20px;
    }

    .warning-box {
        border-color: #ffff00;
    }

    .warning-box h3 {
        color: #ffff00;
        margin-bottom: 10px;
    }

    .info-box h3 {
        color: #00ff00;
        margin-bottom: 10px;
    }

    .info-box ul, .warning-box ul {
        list-style: none;
        padding-left: 20px;
        color: #00ff00;
    }

    .warning-box ul {
        color: #ffff00;
    }

    .info-box li:before {
        content: "‚Ä¢ ";
        color: #00ff00;
    }

    .warning-box li:before {
        content: "‚ö† ";
        color: #ffff00;
    }

    .message-box {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #00ff00;
        border-radius: 5px;
    }

    .message-box.error {
        border-color: #ff0000;
        color: #ff0000;
    }

    .message-box.success {
        border-color: #00ff00;
        color: #00ff00;
    }
</style>
{% endblock %}